# === Use zsh as default ===
set -g default-shell /bin/zsh

# === Leader Key ===
unbind C-b
set -g prefix C-a
bind C-a send-prefix

# Refresh tmux config with r
unbind r
bind r source-file ~/.tmux.conf \; display-message "Conf Reloaded!"


# === General Settings ===
set -g mouse on                 # Enable mouse support
set -g status-position top      # Keep status bar always on top
set -g set-clipboard on         # Use system clipboard
set -g detach-on-destroy off    # Don't exit from tmux when closing a session
set -g escape-time 0            # Remove delay for exiting insert mode with ESC in Neovim
set -g history-limit 1000000    # Increase history size (from 2,000)
#set -g status-interval 3        # Update the status bar every 3 seconds (default: 15 seconds)
set -as terminal-overrides ",xterm-256color:RGB"
### ===== Truecolor Fix ===== ###
set-option -ga terminal-overrides ",xterm-256color:RGB"
set-window-option -g mode-keys vi
### ===== Better Copy/Paste ===== ###
# Copy inside tmux â†’ Windows clipboard (WSL bridge)
# Enable the set-clipboard option for OSC 52 support
set -g set-clipboard external
# Fix 'v' behavior to start normal selection instead of rectangle mode
unbind-key -T copy-mode-vi v
bind-key -T copy-mode-vi v send-keys -X begin-selection
bind-key -T copy-mode-vi y send-keys -X copy-pipe-and-cancel
#bind -T copy-mode-vi y send-keys -X copy-pipe-and-cancel "clip.exe"
# Use Ctrl+Shift+V in Windows Terminal to paste (no tmux paste needed)

bind | split-window -h
bind - split-window -v
unbind '"'
unbind %

# Start windows and panes at 1, not 0
set -g base-index 1
set -g pane-base-index 1
set -g renumber-windows on # Automatically renumber windows when one is closed

# === TPM (Plugins) ===
set -g @plugin 'tmux-plugins/tpm'
set -g @plugin 'tmux-plugins/tmux-sensible'         # basic tmux settings everyone can agree on
set -g @plugin 'tmux-plugins/tmux-logging'          # Easy logging and screen capturing for Tmux.
set -g @plugin 'christoomey/vim-tmux-navigator'     # Enable navigating between nvim and tmux
set -g @plugin 'tmux-plugins/tmux-resurrect'        # Persist tmux sessions after computer restart
set -g @plugin 'tmux-plugins/tmux-continuum'        # Automatically saves sessions every 15 minutes
set -g @plugin 'alexwforsythe/tmux-which-key'       #
set -g @plugin 'tmux-plugins/tmux-prefix-highlight' # highlights when you press tmux prefix key
set -g @plugin '2kabhishek/tmux2k'                  # status line plugin
#set -g @plugin 'samoshkin/tmux-plugin-sysstat'      # sysstat info for tmux status line
# set -g @plugin 'laktak/tome'
# set -f @plugin 'jaclu/tmux-menus'                 # check this out instead of which-key


# Plugins config

# tmux2k
set -g @git_icon "ïˆ"
# ïˆ ïŒƒ ï‹œ ïŒ‚ îœ¥ îœ‚ î«¼ ïŠ– ïƒ§ ï‚… ğŸ³
#set -g @tmux2k-theme 'onedark'
#set -g @tmux2k-left-plugins "session git cwd"
#set -g @tmux2k-right-plugins "cpu ram time"

# Resurrect
# set -g @resurrect-capture-pane-contents 'on'
# set -g @continuum-restore 'on'

# Initialize TMUX plugin manager (keep this line at the very bottom of tmux.conf)
run '~/.tmux/plugins/tpm/tpm'
